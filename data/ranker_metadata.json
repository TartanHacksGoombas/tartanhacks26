{
  "model_type": "lightgbm_lambdarank",
  "params": {
    "objective": "lambdarank",
    "metric": "ndcg",
    "eval_at": [
      50,
      200
    ],
    "num_leaves": 63,
    "learning_rate": 0.05,
    "feature_fraction": 0.8,
    "bagging_fraction": 0.8,
    "bagging_freq": 5,
    "min_child_samples": 200,
    "min_data_in_leaf": 200,
    "lambda_l1": 0.5,
    "lambda_l2": 2.0,
    "max_depth": 7,
    "verbose": -1
  },
  "num_boost_round": 600,
  "best_iteration": 7,
  "train_time_seconds": 2.5,
  "feature_columns": [
    "speedlimit",
    "num_lanes",
    "roadwidth",
    "elevation_m",
    "near_steep_slope",
    "near_landslide",
    "is_bridge",
    "is_snow_emergency_route",
    "winter_crash_count",
    "winter_crash_count_log",
    "winter_crash_fatal",
    "winter_crash_fatal_log",
    "snow_complaint_count",
    "snow_complaint_count_log",
    "plow_coverage_score",
    "plow_coverage_score_log",
    "domi_closure_count",
    "domi_full_closure_count",
    "domi_class_enc",
    "paveclass_enc",
    "highway_type_osm_enc",
    "surface_osm_enc",
    "oneway_enc",
    "penndot_aadt",
    "penndot_pavement_idx",
    "has_penndot_data",
    "incline_pct",
    "bridge_age_years",
    "mid_lat",
    "mid_lng",
    "total_snowfall_cm",
    "max_daily_snowfall_cm",
    "min_temp_c",
    "max_wind_kmh",
    "duration_days",
    "precip_total_mm",
    "day_offset",
    "days_since_peak_snowfall",
    "is_post_storm",
    "cumulative_snowfall_cm",
    "cumulative_thaw_degree_hours",
    "daily_snowfall_cm",
    "snow_x_steep_slope",
    "snow_x_incline",
    "temp_x_bridge",
    "wind_x_roadwidth",
    "snow_x_elevation",
    "thaw_x_steep_slope",
    "post_storm_x_elevation",
    "day_offset_x_snow"
  ],
  "n_features": 50,
  "calibration": {
    "p50": -0.112639,
    "p75": -0.0189,
    "p99": 0.27127,
    "mean": -0.107235,
    "std": 0.133408
  },
  "split": {
    "train_storms": 96,
    "val_storms": 10,
    "test_seasons": [
      "2023-24",
      "2024-25"
    ],
    "train_rows": 864000,
    "val_rows": 90000,
    "test_rows": 180000
  },
  "metrics": {
    "train": {
      "mean_ndcg_50": 0.299427,
      "mean_ndcg_200": 0.3223,
      "mean_recall_200": 0.087083,
      "mean_recall_500": 0.145625,
      "mean_spearman": 0.166132,
      "n_storms": 96,
      "n_samples": 864000
    },
    "val": {
      "mean_ndcg_50": 0.265819,
      "mean_ndcg_200": 0.278275,
      "mean_recall_200": 0.076,
      "mean_recall_500": 0.149,
      "mean_spearman": 0.131621,
      "n_storms": 10,
      "n_samples": 90000
    },
    "test": {
      "mean_ndcg_50": 0.505397,
      "mean_ndcg_200": 0.570461,
      "mean_recall_200": 0.05275,
      "mean_recall_500": 0.1107,
      "mean_spearman": 0.128096,
      "n_storms": 20,
      "n_samples": 180000
    }
  }
}